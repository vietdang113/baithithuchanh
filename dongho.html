<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c & b·∫•m gi·ªù</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f4f8;
            text-align: center;
            padding: 50px;
        }
        h2, h3 {
            color: #333;
        }
        input[type="number"], input[type="text"] {
            padding: 10px;
            font-size: 16px;
            width: 200px;
            border-radius: 8px;
            border: 1px solid #ccc;
            margin-bottom: 10px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            color: white;
            margin: 5px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            background-color: #28a745;
        }
        button:hover {
            opacity: 0.85;
        }
        #hienThiDemNguoc, #hienThiBamGio {
            font-size: 48px;
            color: #007bff;
            margin-top: 20px;
        }
        #thongBaoHetGio {
            font-size: 20px;
            font-weight: bold;
            margin-top: 10px;
            color: red;
        }
        hr {
            margin: 50px 0;
        }
        #thongBaoDaLuu {
            font-size: 16px;
            margin-top: 20px;
            padding: 10px;
            background-color: #e9f7ef;
            border-radius: 8px;
            color: #333;
        }
        select, input[type="number"], input[type="text"], button {
            transition: all 0.3s ease;
        }

        select:focus, input[type="number"]:focus, input[type="text"]:focus, button:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(41, 185, 41, 0.6);
        }
    </style>
</head>
<body>
<h2>‚è≤Ô∏è Ch·ªçn ch·∫ø ƒë·ªô</h2>
<select id="chonCheDo" onchange="chuyenCheDo()">
    <option value="demNguoc">ƒê·∫øm ng∆∞·ª£c</option>
    <option value="bamGio">B·∫•m gi·ªù</option>
</select>
<h3>Ch·ªçn c√¥ng vi·ªác:</h3>
<select id="danhSachCongViec" onchange="kiemTraCongViec()">
    <option value="üìò H·ªçc b√†i">üìò H·ªçc b√†i</option>
    <option value="üí™ T·∫≠p th·ªÉ d·ª•c">üí™ T·∫≠p th·ªÉ d·ª•c</option>
    <option value="‚úçÔ∏è L√†m b√†i t·∫≠p">‚úçÔ∏è L√†m b√†i t·∫≠p</option>
    <option value="üò¥ Ng·ªß ngh·ªâ">üò¥ Ng·ªß ngh·ªâ</option>
    <option value="üîß C√¥ng vi·ªác kh√°c">üîß C√¥ng vi·ªác kh√°c</option>
</select>
<br>
<label for="congViecKhac"></label><input type="text" id="congViecKhac" placeholder="Nh·∫≠p c√¥ng vi·ªác kh√°c..." oninput="capNhatTenCongViec()" style="display:none;">
<h3 id="tenCongViecDangLam">üîî ƒêang th·ª±c hi·ªán: üìò H·ªçc b√†i</h3>
<div id="phanDemNguoc">
    <h2>‚è≥ ƒê·∫øm ng∆∞·ª£c:</h2>
    <input type="number" id="nhapPhut" placeholder="Nh·∫≠p s·ªë ph√∫t" />
    <button onclick="batDauDemNguoc()">‚ñ∂ B·∫Øt ƒë·∫ßu</button>
    <button onclick="dungDemNguoc()">‚è∏ D·ª´ng</button>
    <button onclick="datLaiDemNguoc()">üîÑ ƒê·∫∑t l·∫°i</button>
    <h3>Th·ªùi gian c√≤n l·∫°i:</h3>
    <h1 id="hienThiDemNguoc">00:00</h1>
    <p id="thongBaoHetGio"></p>
</div>
<div id="phanBamGio" style="display:none;">
    <h2>‚è± B·∫•m gi·ªù:</h2>
    <button id="batDauBamGioBtn" onclick="batDauBamGio()">‚ñ∂ B·∫Øt ƒë·∫ßu</button>
    <button id="dungBamGioBtn" onclick="dungBamGio()">‚è∏ D·ª´ng</button>
    <button id="datLaiBamGioBtn" onclick="datLaiBamGio()">üîÑ ƒê·∫∑t l·∫°i</button>
    <h3>Th·ªùi gian ƒë√£ tr√¥i:</h3>
    <h1 id="hienThiBamGio">00:00</h1>
    <audio id="baoThuc" src=".idea/sounds/alarm-301729.mp3" preload="auto"></audio>
    <div id="thongBaoDaLuu"></div>
</div>
<script>
    let tenCongViec = "üìò H·ªçc b√†i"; // Bi·∫øn l∆∞u c√¥ng vi·ªác hi·ªán t·∫°i
    let thoiGianLuu = 0;  // Bi·∫øn l∆∞u th·ªùi gian ƒë√£ ƒë·∫∑t l·∫°i
    let bamGio;
    let thoiGianBamGio = 0;
    let dangChayBamGio = false;

    function chuyenCheDo() {
        let congViec = document.getElementById("chonCheDo").value;
        if (congViec === "demNguoc") {
            document.getElementById("phanDemNguoc").style.display = "block";
            document.getElementById("phanBamGio").style.display = "none";
        } else {
            document.getElementById("phanDemNguoc").style.display = "none";
            document.getElementById("phanBamGio").style.display = "block";
        }
    }

    function kiemTraCongViec() {
        let chon = document.getElementById("danhSachCongViec").value;
        if (chon === "üîß C√¥ng vi·ªác kh√°c") {
            document.getElementById("congViecKhac").style.display = "inline-block";
            capNhatTenCongViec();
        } else {
            document.getElementById("congViecKhac").style.display = "none";
            document.getElementById("tenCongViecDangLam").innerText = "üîî ƒêang th·ª±c hi·ªán: " + chon;
            tenCongViec = chon;
        }
    }

    function capNhatTenCongViec() {
        let tenMoi = document.getElementById("congViecKhac").value;
        if (tenMoi.trim() !== "") {
            document.getElementById("tenCongViecDangLam").innerText = "üîî ƒêang th·ª±c hi·ªán: " + tenMoi;
            tenCongViec = tenMoi;
        } else {
            document.getElementById("tenCongViecDangLam").innerText = "üîî ƒêang th·ª±c hi·ªán: üîß C√¥ng vi·ªác kh√°c";
            tenCongViec = "üîß C√¥ng vi·ªác kh√°c";
        }
    }

    function batDauBamGio() {
        if (dangChayBamGio) return;
        dangChayBamGio = true;
        bamGio = setInterval(function () {
            thoiGianBamGio++;
            let phut = Math.floor(thoiGianBamGio / 60);
            let giay = thoiGianBamGio % 60;
            let hienPhut = phut < 10 ? "0" + phut : phut;
            let hienGiay = giay < 10 ? "0" + giay : giay;
            document.getElementById("hienThiBamGio").innerText = hienPhut + ":" + hienGiay;
        }, 1000);
    }

    function dungBamGio() {
        clearInterval(bamGio);
        dangChayBamGio = false;
    }

    function datLaiBamGio() {
        clearInterval(bamGio);
        thoiGianLuu = thoiGianBamGio;  // L∆∞u l·∫°i th·ªùi gian hi·ªán t·∫°i
        thoiGianBamGio = 0;
        dangChayBamGio = false;
        document.getElementById("hienThiBamGio").innerText = "00:00";

        // Hi·ªÉn th·ªã th·ªùi gian ƒë√£ l∆∞u c√πng v·ªõi c√¥ng vi·ªác
        let phutLuu = Math.floor(thoiGianLuu / 60);
        let giayLuu = thoiGianLuu % 60;
        let hienPhutLuu = phutLuu < 10 ? "0" + phutLuu : phutLuu;
        let hienGiayLuu = giayLuu < 10 ? "0" + giayLuu : giayLuu;

        let thongBao = `C√¥ng vi·ªác: ${tenCongViec} - Th·ªùi gian ƒë√£ l∆∞u: ${hienPhutLuu}:${hienGiayLuu}`;
        let divThongBao = document.createElement("div");
        divThongBao.textContent = thongBao;
        document.getElementById("thongBaoDaLuu").appendChild(divThongBao);
    }

    function batDauDemNguoc() {
        let phut = document.getElementById("nhapPhut").value;
        if (phut <= 0 || isNaN(phut)) {
            alert("Vui l√≤ng nh·∫≠p s·ªë ph√∫t h·ª£p l·ªá");
            return;
        }
        let thoiGianDemNguoc = phut * 60;
        let demNguoc = setInterval(function () {
            if (thoiGianDemNguoc <= 0) {
                clearInterval(demNguoc);
                document.getElementById("thongBaoHetGio").innerText = "‚è∞ H·∫øt gi·ªù! C√¥ng vi·ªác " + tenCongViec + " ƒë√£ ho√†n th√†nh.";
                document.getElementById("hienThiDemNguoc").innerText = "00:00";
                let baoThuc = document.getElementById("baoThuc");
                baoThuc.play();
            } else {
                thoiGianDemNguoc--;
                let phutHienTai = Math.floor(thoiGianDemNguoc / 60);
                let giayHienTai = thoiGianDemNguoc % 60;
                let hienPhut = phutHienTai < 10 ? "0" + phutHienTai : phutHienTai;
                let hienGiay = giayHienTai < 10 ? "0" + giayHienTai : giayHienTai;
                document.getElementById("hienThiDemNguoc").innerText = hienPhut + ":" + hienGiay;
            }
        }, 1000);
    }
    function dungDemNguoc() {
        clearInterval(demNguoc);
    }
    function datLaiDemNguoc() {
        document.getElementById("nhapPhut").value = '';
        document.getElementById("hienThiDemNguoc").innerText = "00:00";
        document.getElementById("thongBaoHetGio").innerText = '';
    }
</script>
</body>
</html>
